<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>


    <script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/responsive/2.2.4/js/dataTables.responsive.js"></script>

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.2.4/css/dataTables.responsive.css">

    <!--<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">-->




</head>

<style>
    td.details-control {
        background: url('https://github.com/xinyu-dev/cas/blob/master/logos/plus.svg?raw=true') no-repeat center center;
        cursor: pointer;
    }
    tr.shown td.details-control {
        background: url('https://github.com/xinyu-dev/cas/blob/master/logos/minus.svg?raw=true') no-repeat center center;
    }

    /*mouse hover effects*/
    td.highlight {
        background-color: whitesmoke !important;
    }
</style>


<body style="padding: 60px;">
<table id="webinar" class="row-border hover order-column" style="width:100%">
<thead>
<tr>
    <th></th>
    <th>Date</th>
    <th>Topics</th>
    <th>Webinar Title</th>
    <th>Speaker</th>
    <th>Speaker Title</th>
    <th>Speaker Affiliation</th>
    <th>Replay</th>
    <th>Synopsis</th>
</tr>
</thead>
<tfoot>
<tr>
    <th></th>
    <th>Date</th>
    <th>Topics</th>
    <th>Webinar Title</th>
    <th>Speaker</th>
    <th>Speaker Title</th>
    <th>Speaker Affiliation</th>
    <th>Replay</th>
    <th>Synopsis</th>
</tr>
</tfoot>

</table>

</body>


<script>
    /* Formatting function for row details - modify as you need */
    function format ( d ) {
        // `d` is the original data object for the row
        return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">'+
            '<tr>'+
            '<td>'+d.Synopsis+'</td>'+
            '</tr>'+
            '</table>';
    }

    $(document).ready(function() {

        var table = $('#webinar').DataTable( {
            "ajax": "https://raw.githubusercontent.com/xinyu-dev/cas/master/webinar/webinar_v2.JSON",
            responsive: true,
            "columns": [
                {
                    "className":      'details-control',
                    "orderable":      false,
                    "data":           null,
                    "defaultContent": ''
                },
                { "data": "Date" },
                { "data": "Topics" },
                { "data": "Webinar Title" },
                { "data": "Speaker" },
                { "data": "Speaker Title" },
                { "data": "Affiliation"},
                { "data": "Replay"},
                { "data": "Synopsis", "visible": false, "searchable": true}  //hide synopsis but make it searchable
            ],
            "order": [[1, 'asc']]
        } );

        // Add event listener for opening and closing details
        $('#webinar tbody').on('click', 'td.details-control', function () {
            var tr = $(this).closest('tr');
            var row = table.row( tr );

            if ( row.child.isShown() ) {
                // This row is already open - close it
                row.child.hide();
                tr.removeClass('shown');
            }
            else {
                // Open this row
                row.child( format(row.data()) ).show();
                tr.addClass('shown');
            }
        } );

        //mouse hover effects
        $('#webinar tbody').on( 'mouseenter', 'td', function () {
                var colIdx = table.cell(this).index().column;

                $( table.cells().nodes() ).removeClass( 'highlight' );
                $( table.column( colIdx ).nodes() ).addClass( 'highlight' );
            } );
    } );
</script>
</html>
